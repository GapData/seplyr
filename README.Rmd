---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->



```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = " # "
)
options(width =100)
```


This document describes the [`R`](https://www.r-project.org) package [`seplyr`](https://github.com/WinVector/seplyr) which supplies *s*tandard *e*valuation interfaces for some common [`dplyr`](https://CRAN.R-project.org/package=dplyr) verbs.

The idea is this package lets you program over `dplyr` 0.7.* without needing a Ph.D. in computer science.

To install this packing in `R` please either install from [CRAN](https://CRAN.R-project.org/package=seplyr) with:

```{r, eval=FALSE}
   install.packages('seplyr')
```

or from [GitHub](https://github.com/WinVector/seplyr):
 
```{r, eval=FALSE}
   devtools::install_github('WinVector/seplyr')
```
 

In `dplyr` if you know the names of columns when you are writing code you can write code such as the following.

```{r ex1a}
suppressPackageStartupMessages(library("dplyr"))
packageVersion("dplyr")

datasets::mtcars %>% 
  group_by(cyl, gear) %>% 
  head()
```

In `dplyr` `0.7.*` if the names of the columns are coming from a variable set elsewhere you would to need to use a tool (such as `rlang`/`tidyeval`) to substitute those names in as show below.

```{r ex1b}
groupingVars <- c('cyl', 'gear') # assume this is set elsewhere

datasets::mtcars %>% 
  group_by(!!!rlang::syms(groupingVars)) %>% 
  head()
```

If you don't want to try and digest entire theory of quasi-quoting (the `rlang::syms()`) and splicing (the `!!!`) then you can use `seplyr` which conveniently and legibly wraps the operations as follows:

```{r ex1c}
# devtools::install_github('WinVector/seplyr')
library("seplyr")

datasets::mtcars %>% 
  group_by_se(groupingVars) %>% 
  head()
```

And that is it.  

******

`seplyr::group_by_se()` performs the wrapping for you without you having to work through the details of `rlang`.  If you are interested in the details `seplyr` itself is a good tutorial.  For example you can examine `seplyr`'s implementation to see the necessary notations (using a command such as `print(group_by_se)`). And, of course, we try to supply some usable help entries, such as: `help(group_by_se)`.

The current set of SE adapters includes (all commands of the form `NAME_se()` being adapters for a `dplyr::NAME()`):

 * `arange_se()`
 * `distinct_se()`
 * `group_by_se()`
 * `group_indices_se()`
 * `rename_se()`
 * `select_se()`

In addition to the series of adapters we also supply a number of useful new verbs including:

 * `group_summarize()` Binds grouping, arrangement, and summarization together for clear documentation of intent.
 * `add_group_summaries()` Adds per-group summaries to data.
 * `add_group_indices()` Adds a column of per-group ids to data.
 * `add_group_sub_indices()` Adds a column of in-group rank ids to data.
 * `add_rank_indices()` Adds rank indices to data.

`seplyr` is designed to be a thin package that passes all work to `dplyr`.  If you want a package that works around `dplyr` implementation differences on different data sources I suggest trying our own [`replyr`]( https://CRAN.R-project.org/package=replyr) package.
